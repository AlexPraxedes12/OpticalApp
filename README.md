
# OpticalApp

**OpticalApp** is a Flutter-based mobile application submitted to the James Dyson Award. It enables fully offline ocular disease screening using a TensorFlow Lite model and is designed to work on low-end smartphones.

---

## Project Description

OpticalApp helps communities with limited access to ophthalmologists by allowing non-experts to screen for retinal diseases using just a smartphone. The app loads a lightweight EfficientNet-B0 model to classify fundus images directly on-device without internet connectivity.

---

## Inspiration

This project was inspired by a personal effort to make self-screening more accessible. It originally began as an exploration into testicular cancer detection through AI, but due to the lack of open datasets, the idea evolved toward ocular diagnostics â€” an area I became passionate about after experiencing visual floaters myself. My motherâ€™s work in visual health further influenced my interest, having seen first-hand the challenges underserved communities face in getting professional eye care.

---

## Features

- Classifies **28** retinal diseases and one "Normal" condition from fundus photographs
- Works completely **offline**
- Provides textual diagnosis and symptom descriptions
- Optional voice output via text-to-speech
- Supports **Spanish**, **English**, and **French**
- Capture images via front/back camera or select from gallery
- Accessible interface designed for quick, easy interpretation

---

## Hardware Prototype (Low-Cost Adapter)

To enable smartphone-based retinal imaging, I created a physical adapter prototype using a magnifying lens, tape, and cardboard â€” costing less than 10 MXN (~$0.50 USD). Although capturing a clear retinal reflection proved challenging, the results were promising. Future iterations aim to develop a single-frame structure with optimal alignment and a higher-magnification lens. The goal is to make eye diagnostics truly accessible in both software and hardware.

---

## Model Training and Conversion

The EfficientNet-B0 model was trained on the **RFMiD** (Retinal Fundus Multi-disease Image Dataset) using PyTorch in Google Colab. The resulting `.pth` weights were exported to ONNX and then converted to TensorFlow Lite. Conversion steps were performed both in Colab and locally. The final `model_float32.tflite` file is included in `assets/` alongside the labels file.

---

## Offline Capabilities

All inference runs entirely on-device with no network calls. This makes OpticalApp suitable for remote and rural areas while protecting user data privacy.

---

## Multilingual Support

UI strings, condition names, descriptions, and voice output are provided in **English**, **Spanish**, and **French**. Language selection is available via dropdown.

---

## Try It
You can download the latest version of the application here:

ðŸ‘‰ [Download OpticalApp APK](https://github.com/AlexPraxedes12/OpticalApp/releases/latest/download/app-release.apk)


---

## Roadmap

- Refine the model with diverse smartphone-captured datasets
- Improve the DIY hardware adapter into a stable, low-cost solution
- Expand to iOS and web platforms
- Add a referral system to connect users with nearby specialists
- Release the app on the Play Store and validate it clinically

---

## How to Run the App

1. Install Flutter (version 3.10 or later) and run `flutter pub get`.
2. Connect an Android/iOS device or emulator.
3. Run `flutter run` from the project root. The TFLite model in `assets/` will be bundled automatically.

---

## How to Retrain the Model

1. See scripts under `model_training/efficientnet/`
2. Train `train_efficientnet.py` or use the provided Colab notebook with the RFMiD dataset.
3. Export the model to ONNX and convert using `convert_onnx_to_tflite.py`.
4. Replace the model file in `assets/` and update the labels file.

---

## Folder Structure

- `lib/` â€“ Flutter source code
- `assets/` â€“ TFLite models, labels, images
- `model_training/` â€“ Training scripts and conversion tools
- `android/`, `ios/`, etc. â€“ Platform-specific folders generated by Flutter

---

## Licensing / Credits

- RFMiD dataset courtesy of [Ritsumeikan University](https://www.kaggle.com/datasets/rishabhiitbhu/rfmid-retinal-disease-classification)
- EfficientNet model from [Google AI](https://arxiv.org/abs/1905.11946)
- This project is provided for academic and humanitarian purposes. Contact the author for other uses.
